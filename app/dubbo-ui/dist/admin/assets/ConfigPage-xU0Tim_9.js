import{d as E,a as G,n as B,u as H,f as g,c as o,t as e,e as r,o as l,J as S,h as s,I as v,z as c,B as u,F as J,y as L,v as f,K as O,a3 as T,X as b,G as U,H as X,_ as j}from"./index-nw_d5X0a.js";const q=p=>(U("data-v-f022b7aa"),p=p(),X(),p),A={class:"__container_common_config"},M={class:"title"},Q=q(()=>S("div",{class:"bg"},null,-1)),W={key:0,style:{float:"right"}},Y=E({__name:"ConfigPage",props:{options:{}},setup(p){let _=p,a=G(()=>_.options.list[_.options.current[0]]),h=B(null),d=B(!1),$=H();async function z(){d.value=!0,await h.value.validate().catch(i=>{b.error("submit failed [form check]: "+i),d.value=!1});let t=_.options.list[_.options.current[0]];await t.submit(t.form).catch(i=>{b.error("submit failed [server error]: "+i)}),d.value=!1,b.success("submit success")}function K(){a.value.reset(a.value.form)}return(t,i)=>{const N=r("a-menu-item"),V=r("a-menu"),k=r("a-card"),w=r("a-col"),y=r("a-button"),F=r("a-form"),P=r("a-form-item"),R=r("a-spin"),D=r("a-row");return l(),g("div",A,[o(D,{gutter:20},{default:e(()=>[o(w,{span:6},{default:e(()=>[o(k,{class:"__opt"},{title:e(()=>{var n;return[S("div",M,[Q,o(s(v),{class:"title-icon",icon:"icon-park-twotone:application-one"}),c(" "+u((n=s($).params)==null?void 0:n.pathId),1)])]}),default:e(()=>[o(V,{selectedKeys:t.options.current,"onUpdate:selectedKeys":i[0]||(i[0]=n=>t.options.current=n)},{default:e(()=>[(l(!0),g(J,null,L(t.options.list,(n,m)=>(l(),f(N,{key:m},{default:e(()=>[m===t.options.current[0]?(l(),f(s(v),{key:0,style:{"margin-bottom":"-5px","font-size":"20px"},icon:"material-symbols:settings-b-roll-rounded"})):(l(),f(s(v),{key:1,style:{"margin-bottom":"-5px","font-size":"20px",color:"grey"},icon:"material-symbols:settings-b-roll-outline-rounded"})),c(" "+u(t.$t(n.title)),1)]),_:2},1024))),128))]),_:1},8,["selectedKeys"])]),_:1})]),_:1}),o(w,{span:18},{default:e(()=>[o(k,null,{title:e(()=>{var n,m,C;return[c(u(t.$t(s(a).title))+" ",1),(n=s(a))!=null&&n.ext?(l(),g("div",W,[o(y,{type:"primary",onClick:(C=(m=s(a))==null?void 0:m.ext)==null?void 0:C.fun},{default:e(()=>{var x,I;return[c(u((I=(x=s(a))==null?void 0:x.ext)==null?void 0:I.title),1)]}),_:1},8,["onClick"])])):O("",!0)]}),default:e(()=>[o(R,{spinning:s(d)},{default:e(()=>[(l(),f(F,{style:{overflow:"auto","max-height":"calc(100vh - 450px)"},ref_key:"__config_form",ref:h,key:t.options.current,"wrapper-col":{span:14},model:s(a).form,"label-col":{style:{width:"100px"}},layout:"horizontal"},{default:e(()=>[T(t.$slots,"form_"+s(a).key,{current:s(a)},void 0,!0)]),_:3},8,["model"])),o(P,{style:{margin:"20px 0 0 100px"}},{default:e(()=>[o(y,{type:"primary",onClick:z},{default:e(()=>[c(u(t.$t("submit")),1)]),_:1}),o(y,{style:{"margin-left":"10px"},onClick:K},{default:e(()=>[c(u(t.$t("reset")),1)]),_:1})]),_:1})]),_:3},8,["spinning"])]),_:3})]),_:3})]),_:3})])}}}),ee=j(Y,[["__scopeId","data-v-f022b7aa"]]);export{ee as C};
