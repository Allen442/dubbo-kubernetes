import{r as A}from"./request-TA53RnaN.js";import{d as F,g as T,n as c,r as $,s as j,f as N,c as t,t as e,e as o,o as l,H as b,h as m,z as r,v as d,D,J as f,F as q,x as z,E as H,G as J,_ as L}from"./index-tamXPwks.js";const O=n=>A({url:"/service/distribution",method:"get",params:n}),K=n=>(H("data-v-4e857ad5"),n=n(),J(),n),M={class:"__container_services_tabs_distribution"},Q=K(()=>b("span",null,"版本&分组:",-1)),R=F({__name:"distribution",setup(n){const{appContext:{config:{globalProperties:g}}}=T(),h=c(""),y=$([{label:"不指定",value:""},{label:"version=1.0.0",value:"version=1.0.0"},{label:"group=group1",value:"group=group1"},{label:"version=1.0.0,group=group1",value:"version=1.0.0,group=group1"}]),x=c(y[0].value),k=c("producer"),V=[{title:"应用名",dataIndex:"applicationName",width:"25%",sorter:!0},{title:"实例数",dataIndex:"instanceNum",width:"25%",sorter:!0},{title:"实例ip",dataIndex:"instanceIP",width:"50%"}],C=c([]),I=async()=>{let{data:u}=await O({});C.value=u.data};I();const p=j.debounce(I,300),B={showTotal:u=>g.$t("searchDomain.total")+": "+u+" "+g.$t("searchDomain.unit")};return(u,s)=>{const E=o("a-select"),G=o("a-input-search"),i=o("a-flex"),S=o("a-radio-button"),P=o("a-radio-group"),_=o("a-button"),U=o("a-table");return l(),N("div",M,[t(i,{vertical:""},{default:e(()=>[t(i,{class:"service-filter"},{default:e(()=>[t(i,null,{default:e(()=>[b("div",null,[Q,t(E,{value:x.value,"onUpdate:value":s[0]||(s[0]=a=>x.value=a),options:y,class:"service-filter-select",onChange:m(p)},null,8,["value","options","onChange"])]),t(G,{value:h.value,"onUpdate:value":s[1]||(s[1]=a=>h.value=a),placeholder:"搜索应用，ip，支持前缀搜索",class:"service-filter-input",onSearch:m(p),"enter-button":""},null,8,["value","onSearch"])]),_:1}),b("div",null,[t(P,{value:k.value,"onUpdate:value":s[2]||(s[2]=a=>k.value=a),"button-style":"solid",onClick:m(p)},{default:e(()=>[t(S,{value:"producer"},{default:e(()=>[r("生产者")]),_:1}),t(S,{value:"consumer"},{default:e(()=>[r("消费者")]),_:1})]),_:1},8,["value","onClick"])])]),_:1}),t(U,{columns:V,"data-source":C.value,scroll:{y:"45vh"},pagination:B},{bodyCell:e(({column:a,text:v})=>[a.dataIndex==="applicationName"?(l(),d(_,{key:0,type:"link"},{default:e(()=>[r(D(v),1)]),_:2},1024)):f("",!0),a.dataIndex==="instanceIP"?(l(),d(i,{key:1,justify:""},{default:e(()=>[(l(!0),N(q,null,z(v.slice(0,3),w=>(l(),d(_,{key:w,type:"link"},{default:e(()=>[r(D(w),1)]),_:2},1024))),128)),v.length>3?(l(),d(_,{key:0,type:"link"},{default:e(()=>[r("更多")]),_:1})):f("",!0)]),_:2},1024)):f("",!0)]),_:1},8,["data-source"])]),_:1})])}}}),Y=L(R,[["__scopeId","data-v-4e857ad5"]]);export{Y as default};
