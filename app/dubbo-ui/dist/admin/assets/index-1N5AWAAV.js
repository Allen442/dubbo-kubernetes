import{d as C,k as R,u as w,r as v,Q as T,f as s,c as t,t as o,h as d,P as g,M as D,e as h,o as i,z as n,R as S,J as V,I as E,B as u,K as m,F as _,m as O,_ as A}from"./index-nw_d5X0a.js";import{a as B,b as M}from"./traffic-mk_vra8f.js";import{S as P,a as $,s as f}from"./SearchUtil-xjq24Jx3.js";import{f as Y}from"./DateUtil-hgvfeX8K.js";import"./request-hwqjhTR7.js";const F={class:"__container_resources_application_index"},G=["onClick"],J=C({__name:"index",setup(K){R(e=>({"453bda1a":d(g)}));const y=w();let k=[{title:"ruleName",key:"ruleName",dataIndex:"ruleName",sorter:(e,a)=>f(e.appName,a.appName),width:140},{title:"createTime",key:"createTime",dataIndex:"createTime",width:120,sorter:(e,a)=>f(e.instanceNum,a.instanceNum)},{title:"enable",key:"enable",dataIndex:"enable",render:(e,a)=>a.enable?"是":"否",width:120,sorter:(e,a)=>f(e.instanceNum,a.instanceNum)},{title:"operation",key:"operation",dataIndex:"operation",width:200}];const c=v(new P([{label:"serviceGovernance",param:"serviceGovernance",placeholder:"typeRoutingRules",style:{width:"200px"}}],B,k)),b=async e=>{(await M(e)).code===200&&await c.onSearch()};T(()=>{c.onSearch()});const x=()=>{b(y.params.ruleName)};return D(O.SEARCH_DOMAIN,c),(e,a)=>{const l=h("a-button"),N=h("a-popconfirm");return i(),s("div",F,[t($,{"search-domain":c},{customOperation:o(()=>[t(l,{type:"primary"},{default:o(()=>[n("新增标签路由规则")]),_:1})]),bodyCell:o(({text:p,column:r,record:I})=>[r.dataIndex==="ruleName"?(i(),s("span",{key:0,class:"rule-link",onClick:z=>d(S).push(`/traffic/tagRule/formview/${I[r.key]}`)},[V("b",null,[t(d(E),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),n(" "+u(p),1)])],8,G)):m("",!0),r.dataIndex==="createTime"?(i(),s(_,{key:1},[n(u(d(Y)(p)),1)],64)):m("",!0),r.dataIndex==="enable"?(i(),s(_,{key:2},[n(u(p?e.$t("flowControlDomain.enabled"):e.$t("flowControlDomain.disabled")),1)],64)):m("",!0),r.dataIndex==="operation"?(i(),s(_,{key:3},[t(l,{type:"link"},{default:o(()=>[n("查看")]),_:1}),t(l,{type:"link"},{default:o(()=>[n("修改")]),_:1}),t(N,{title:"确认删除该标签路由规则？","ok-text":"Yes","cancel-text":"No",onConfirm:x},{default:o(()=>[t(l,{type:"link"},{default:o(()=>[n(" 删除 ")]),_:1})]),_:1})],64)):m("",!0)]),_:1},8,["search-domain"])])}}}),U=A(J,[["__scopeId","data-v-4759bec6"]]);export{U as default};
