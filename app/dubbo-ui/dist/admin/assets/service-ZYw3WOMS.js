import{d as w,k as C,r as d,O as S,u as T,b as R,f as m,c as t,t as e,e as c,h as r,P as _,K as D,o as n,F as V,x as M,v as p,z as f,D as v,J as O,m as P,I as h,H as B,_ as E}from"./index-tamXPwks.js";import{s as A}from"./service-UQb7KS2E.js";import{S as Q,a as j}from"./SearchUtil-JrtRic_N.js";import{g as q,a as z}from"./serverInfo-afou5ri8.js";import"./request-TA53RnaN.js";const F={class:"__container_app_service"},H={class:"statistic-icon-big"},J=w({__name:"service",setup(K){C(a=>({"4ff696f8":r(_)+"22","02b1996c":r(_)}));let s=d({info:{},report:{}}),g=d({info:{}});S(async()=>{let a=(await q({})).data;g.info=(await z({})).data,s.info=a,s.report={providers:{icon:"carbon:branch",value:s.info.providers},consumers:{icon:"mdi:merge",value:s.info.consumers}}});const x=[{title:"idx",key:"idx"},{title:"服务",dataIndex:"serviceName",key:"serviceName",sorter:!0,width:"30%"},{title:"接口数",dataIndex:"interfaceNum",key:"interfaceNum",sorter:!0,width:"10%"},{title:"近 1min QPS",dataIndex:"avgQPS",key:"avgQPS",sorter:!0,width:"15%"},{title:"近 1min RT",dataIndex:"avgRT",key:"avgRT",sorter:!0,width:"15%"},{title:"近 1min 请求总量",dataIndex:"requestTotal",key:"requestTotal",sorter:!0,width:"15%"}],l=d(new Q([{label:"",param:"type",defaultValue:1,dict:[{label:"providers",value:1},{label:"consumers",value:2}],dictType:"BUTTON"},{label:"serviceName",param:"serviceName"}],A,x,{pageSize:4}));l.onSearch(),T();const b=R(),y=a=>{b.push("/resources/services/detail/"+a)};return D(P.SEARCH_DOMAIN,l),(a,L)=>{const I=c("a-statistic"),u=c("a-flex"),k=c("a-card"),N=c("a-button");return n(),m("div",F,[t(u,{wrap:"wrap",gap:"small",vertical:!1,justify:"start",align:"left"},{default:e(()=>[(n(!0),m(V,null,M(r(s).report,(o,i)=>(n(),p(k,{class:"statistic-card"},{default:e(()=>[t(u,{gap:"middle",vertical:!1,justify:"space-between",align:"center"},{default:e(()=>[t(I,{value:o.value,class:"statistic"},{prefix:e(()=>[t(r(h),{class:"statistic-icon",icon:"solar:target-line-duotone"})]),title:e(()=>[f(v(a.$t(i.toString())),1)]),_:2},1032,["value"]),B("div",H,[t(r(h),{icon:o.icon},null,8,["icon"])])]),_:2},1024)]),_:2},1024))),256))]),_:1}),t(j,{"search-domain":l},{bodyCell:e(({column:o,text:i})=>[o.dataIndex==="serviceName"?(n(),p(N,{key:0,type:"link",onClick:Y=>y(i)},{default:e(()=>[f(v(i),1)]),_:2},1032,["onClick"])):O("",!0)]),_:1},8,["search-domain"])])}}}),Z=E(J,[["__scopeId","data-v-5b508037"]]);export{Z as default};
